"use strict";
// Copyright Amazon.com Inc. or its affiliates. All Rights Reserved.
// SPDX-License-Identifier: Apache-2.0
Object.defineProperty(exports, "__esModule", { value: true });
exports.sha512 = void 0;
const util_utf8_browser_1 = require("@aws-sdk/util-utf8-browser");
const web_crypto_backend_1 = require("@aws-crypto/web-crypto-backend");
const serialize_1 = require("@aws-crypto/serialize");
const sha512 = async (...inputs) => {
    // Normalize to Uint8Array and squash into a single value.
    const data = (0, serialize_1.concatBuffers)(...inputs.map((u) => (typeof u === 'string' ? (0, util_utf8_browser_1.fromUtf8)(u) : u)));
    // Prefer the non-zero byte because this will always be the native implementation.
    const backend = (0, web_crypto_backend_1.getNonZeroByteBackend)(await (0, web_crypto_backend_1.getWebCryptoBackend)());
    // Do the hash
    const ab = await backend.digest('SHA-512', data);
    return new Uint8Array(ab);
};
exports.sha512 = sha512;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2hhNTEyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3NoYTUxMi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsb0VBQW9FO0FBQ3BFLHNDQUFzQzs7O0FBRXRDLGtFQUFxRDtBQUNyRCx1RUFHdUM7QUFDdkMscURBQXFEO0FBRTlDLE1BQU0sTUFBTSxHQUFHLEtBQUssRUFBRSxHQUFHLE1BQStCLEVBQUUsRUFBRTtJQUNqRSwwREFBMEQ7SUFDMUQsTUFBTSxJQUFJLEdBQUcsSUFBQSx5QkFBYSxFQUN4QixHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLEtBQUssUUFBUSxDQUFDLENBQUMsQ0FBQyxJQUFBLDRCQUFRLEVBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQ2hFLENBQUE7SUFDRCxrRkFBa0Y7SUFDbEYsTUFBTSxPQUFPLEdBQUcsSUFBQSwwQ0FBcUIsRUFBQyxNQUFNLElBQUEsd0NBQW1CLEdBQUUsQ0FBQyxDQUFBO0lBQ2xFLGNBQWM7SUFDZCxNQUFNLEVBQUUsR0FBRyxNQUFNLE9BQU8sQ0FBQyxNQUFNLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxDQUFBO0lBQ2hELE9BQU8sSUFBSSxVQUFVLENBQUMsRUFBRSxDQUFDLENBQUE7QUFDM0IsQ0FBQyxDQUFBO0FBVlksUUFBQSxNQUFNLFVBVWxCIn0=