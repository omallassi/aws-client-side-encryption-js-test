// Copyright Amazon.com Inc. or its affiliates. All Rights Reserved.
// SPDX-License-Identifier: Apache-2.0
import { fromUtf8 } from '@aws-sdk/util-utf8-browser';
import { getWebCryptoBackend, getNonZeroByteBackend, } from '@aws-crypto/web-crypto-backend';
import { concatBuffers } from '@aws-crypto/serialize';
export const sha512 = async (...inputs) => {
    // Normalize to Uint8Array and squash into a single value.
    const data = concatBuffers(...inputs.map((u) => (typeof u === 'string' ? fromUtf8(u) : u)));
    // Prefer the non-zero byte because this will always be the native implementation.
    const backend = getNonZeroByteBackend(await getWebCryptoBackend());
    // Do the hash
    const ab = await backend.digest('SHA-512', data);
    return new Uint8Array(ab);
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2hhNTEyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3NoYTUxMi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxvRUFBb0U7QUFDcEUsc0NBQXNDO0FBRXRDLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQTtBQUNyRCxPQUFPLEVBQ0wsbUJBQW1CLEVBQ25CLHFCQUFxQixHQUN0QixNQUFNLGdDQUFnQyxDQUFBO0FBQ3ZDLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQTtBQUVyRCxNQUFNLENBQUMsTUFBTSxNQUFNLEdBQUcsS0FBSyxFQUFFLEdBQUcsTUFBK0IsRUFBRSxFQUFFO0lBQ2pFLDBEQUEwRDtJQUMxRCxNQUFNLElBQUksR0FBRyxhQUFhLENBQ3hCLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsS0FBSyxRQUFRLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FDaEUsQ0FBQTtJQUNELGtGQUFrRjtJQUNsRixNQUFNLE9BQU8sR0FBRyxxQkFBcUIsQ0FBQyxNQUFNLG1CQUFtQixFQUFFLENBQUMsQ0FBQTtJQUNsRSxjQUFjO0lBQ2QsTUFBTSxFQUFFLEdBQUcsTUFBTSxPQUFPLENBQUMsTUFBTSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsQ0FBQTtJQUNoRCxPQUFPLElBQUksVUFBVSxDQUFDLEVBQUUsQ0FBQyxDQUFBO0FBQzNCLENBQUMsQ0FBQSJ9