"use strict";
// Copyright Amazon.com Inc. or its affiliates. All Rights Reserved.
// SPDX-License-Identifier: Apache-2.0
Object.defineProperty(exports, "__esModule", { value: true });
exports.AwsKmsMrkAwareSymmetricDiscoveryKeyringBrowser = void 0;
const kms_keyring_1 = require("@aws-crypto/kms-keyring");
const material_management_browser_1 = require("@aws-crypto/material-management-browser");
class AwsKmsMrkAwareSymmetricDiscoveryKeyringBrowser extends (0, kms_keyring_1.AwsKmsMrkAwareSymmetricDiscoveryKeyringClass)(material_management_browser_1.KeyringWebCrypto) {
    constructor({ client, discoveryFilter, grantTokens, }) {
        super({ client, discoveryFilter, grantTokens });
    }
    async _onEncrypt(material) {
        const _material = await super._onEncrypt(material);
        return (0, material_management_browser_1.importForWebCryptoEncryptionMaterial)(_material);
    }
    async _onDecrypt(material, encryptedDataKeys) {
        const _material = await super._onDecrypt(material, encryptedDataKeys);
        return (0, material_management_browser_1.importForWebCryptoDecryptionMaterial)(_material);
    }
}
exports.AwsKmsMrkAwareSymmetricDiscoveryKeyringBrowser = AwsKmsMrkAwareSymmetricDiscoveryKeyringBrowser;
(0, material_management_browser_1.immutableClass)(AwsKmsMrkAwareSymmetricDiscoveryKeyringBrowser);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoia21zX21ya19kaXNjb3Zlcnlfa2V5cmluZ19icm93c2VyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2ttc19tcmtfZGlzY292ZXJ5X2tleXJpbmdfYnJvd3Nlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsb0VBQW9FO0FBQ3BFLHNDQUFzQzs7O0FBRXRDLHlEQUdnQztBQUNoQyx5RkFVZ0Q7QUFNaEQsTUFBYSw4Q0FBK0MsU0FBUSxJQUFBLDBEQUE0QyxFQUc5Ryw4Q0FBNkMsQ0FBQztJQUc5QyxZQUFZLEVBQ1YsTUFBTSxFQUNOLGVBQWUsRUFDZixXQUFXLEdBQzJDO1FBQ3RELEtBQUssQ0FBQyxFQUFFLE1BQU0sRUFBRSxlQUFlLEVBQUUsV0FBVyxFQUFFLENBQUMsQ0FBQTtJQUNqRCxDQUFDO0lBRUQsS0FBSyxDQUFDLFVBQVUsQ0FDZCxRQUFxQztRQUVyQyxNQUFNLFNBQVMsR0FBRyxNQUFNLEtBQUssQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUE7UUFFbEQsT0FBTyxJQUFBLGtFQUFvQyxFQUFDLFNBQVMsQ0FBQyxDQUFBO0lBQ3hELENBQUM7SUFFRCxLQUFLLENBQUMsVUFBVSxDQUNkLFFBQXFDLEVBQ3JDLGlCQUFxQztRQUVyQyxNQUFNLFNBQVMsR0FBRyxNQUFNLEtBQUssQ0FBQyxVQUFVLENBQUMsUUFBUSxFQUFFLGlCQUFpQixDQUFDLENBQUE7UUFFckUsT0FBTyxJQUFBLGtFQUFvQyxFQUFDLFNBQVMsQ0FBQyxDQUFBO0lBQ3hELENBQUM7Q0FDRjtBQTlCRCx3R0E4QkM7QUFDRCxJQUFBLDRDQUFjLEVBQUMsOENBQThDLENBQUMsQ0FBQSJ9