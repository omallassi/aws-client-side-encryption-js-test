"use strict";
// Copyright Amazon.com Inc. or its affiliates. All Rights Reserved.
// SPDX-License-Identifier: Apache-2.0
Object.defineProperty(exports, "__esModule", { value: true });
exports.AwsKmsMrkAwareSymmetricKeyringBrowser = void 0;
const kms_keyring_1 = require("@aws-crypto/kms-keyring");
const material_management_browser_1 = require("@aws-crypto/material-management-browser");
class AwsKmsMrkAwareSymmetricKeyringBrowser extends (0, kms_keyring_1.AwsKmsMrkAwareSymmetricKeyringClass)(material_management_browser_1.KeyringWebCrypto) {
    constructor({ client, keyId, grantTokens, }) {
        super({ client, keyId, grantTokens });
    }
    async _onEncrypt(material) {
        const _material = await super._onEncrypt(material);
        return (0, material_management_browser_1.importForWebCryptoEncryptionMaterial)(_material);
    }
    async _onDecrypt(material, encryptedDataKeys) {
        const _material = await super._onDecrypt(material, encryptedDataKeys);
        return (0, material_management_browser_1.importForWebCryptoDecryptionMaterial)(_material);
    }
}
exports.AwsKmsMrkAwareSymmetricKeyringBrowser = AwsKmsMrkAwareSymmetricKeyringBrowser;
(0, material_management_browser_1.immutableClass)(AwsKmsMrkAwareSymmetricKeyringBrowser);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoia21zX21ya19rZXlyaW5nX2Jyb3dzZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMva21zX21ya19rZXlyaW5nX2Jyb3dzZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLG9FQUFvRTtBQUNwRSxzQ0FBc0M7OztBQUV0Qyx5REFHZ0M7QUFDaEMseUZBVWdEO0FBTWhELE1BQWEscUNBQXNDLFNBQVEsSUFBQSxpREFBbUMsRUFHNUYsOENBQTZDLENBQUM7SUFLOUMsWUFBWSxFQUNWLE1BQU0sRUFDTixLQUFLLEVBQ0wsV0FBVyxHQUNrQztRQUM3QyxLQUFLLENBQUMsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLFdBQVcsRUFBRSxDQUFDLENBQUE7SUFDdkMsQ0FBQztJQUVELEtBQUssQ0FBQyxVQUFVLENBQ2QsUUFBcUM7UUFFckMsTUFBTSxTQUFTLEdBQUcsTUFBTSxLQUFLLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFBO1FBRWxELE9BQU8sSUFBQSxrRUFBb0MsRUFBQyxTQUFTLENBQUMsQ0FBQTtJQUN4RCxDQUFDO0lBRUQsS0FBSyxDQUFDLFVBQVUsQ0FDZCxRQUFxQyxFQUNyQyxpQkFBcUM7UUFFckMsTUFBTSxTQUFTLEdBQUcsTUFBTSxLQUFLLENBQUMsVUFBVSxDQUFDLFFBQVEsRUFBRSxpQkFBaUIsQ0FBQyxDQUFBO1FBRXJFLE9BQU8sSUFBQSxrRUFBb0MsRUFBQyxTQUFTLENBQUMsQ0FBQTtJQUN4RCxDQUFDO0NBQ0Y7QUFoQ0Qsc0ZBZ0NDO0FBQ0QsSUFBQSw0Q0FBYyxFQUFDLHFDQUFxQyxDQUFDLENBQUEifQ==