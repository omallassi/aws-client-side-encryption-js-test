// Copyright Amazon.com Inc. or its affiliates. All Rights Reserved.
// SPDX-License-Identifier: Apache-2.0
import { AwsKmsMrkAwareSymmetricDiscoveryKeyringClass, } from '@aws-crypto/kms-keyring';
import { immutableClass, importForWebCryptoEncryptionMaterial, importForWebCryptoDecryptionMaterial, KeyringWebCrypto, } from '@aws-crypto/material-management-browser';
export class AwsKmsMrkAwareSymmetricDiscoveryKeyringBrowser extends AwsKmsMrkAwareSymmetricDiscoveryKeyringClass(KeyringWebCrypto) {
    constructor({ client, discoveryFilter, grantTokens, }) {
        super({ client, discoveryFilter, grantTokens });
    }
    async _onEncrypt(material) {
        const _material = await super._onEncrypt(material);
        return importForWebCryptoEncryptionMaterial(_material);
    }
    async _onDecrypt(material, encryptedDataKeys) {
        const _material = await super._onDecrypt(material, encryptedDataKeys);
        return importForWebCryptoDecryptionMaterial(_material);
    }
}
immutableClass(AwsKmsMrkAwareSymmetricDiscoveryKeyringBrowser);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoia21zX21ya19kaXNjb3Zlcnlfa2V5cmluZ19icm93c2VyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2ttc19tcmtfZGlzY292ZXJ5X2tleXJpbmdfYnJvd3Nlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxvRUFBb0U7QUFDcEUsc0NBQXNDO0FBRXRDLE9BQU8sRUFDTCw0Q0FBNEMsR0FFN0MsTUFBTSx5QkFBeUIsQ0FBQTtBQUNoQyxPQUFPLEVBS0wsY0FBYyxFQUNkLG9DQUFvQyxFQUNwQyxvQ0FBb0MsRUFDcEMsZ0JBQWdCLEdBRWpCLE1BQU0seUNBQXlDLENBQUE7QUFNaEQsTUFBTSxPQUFPLDhDQUErQyxTQUFRLDRDQUE0QyxDQUc5RyxnQkFBNkMsQ0FBQztJQUc5QyxZQUFZLEVBQ1YsTUFBTSxFQUNOLGVBQWUsRUFDZixXQUFXLEdBQzJDO1FBQ3RELEtBQUssQ0FBQyxFQUFFLE1BQU0sRUFBRSxlQUFlLEVBQUUsV0FBVyxFQUFFLENBQUMsQ0FBQTtJQUNqRCxDQUFDO0lBRUQsS0FBSyxDQUFDLFVBQVUsQ0FDZCxRQUFxQztRQUVyQyxNQUFNLFNBQVMsR0FBRyxNQUFNLEtBQUssQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUE7UUFFbEQsT0FBTyxvQ0FBb0MsQ0FBQyxTQUFTLENBQUMsQ0FBQTtJQUN4RCxDQUFDO0lBRUQsS0FBSyxDQUFDLFVBQVUsQ0FDZCxRQUFxQyxFQUNyQyxpQkFBcUM7UUFFckMsTUFBTSxTQUFTLEdBQUcsTUFBTSxLQUFLLENBQUMsVUFBVSxDQUFDLFFBQVEsRUFBRSxpQkFBaUIsQ0FBQyxDQUFBO1FBRXJFLE9BQU8sb0NBQW9DLENBQUMsU0FBUyxDQUFDLENBQUE7SUFDeEQsQ0FBQztDQUNGO0FBQ0QsY0FBYyxDQUFDLDhDQUE4QyxDQUFDLENBQUEifQ==