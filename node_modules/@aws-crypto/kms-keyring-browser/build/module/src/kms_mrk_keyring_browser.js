// Copyright Amazon.com Inc. or its affiliates. All Rights Reserved.
// SPDX-License-Identifier: Apache-2.0
import { AwsKmsMrkAwareSymmetricKeyringClass, } from '@aws-crypto/kms-keyring';
import { immutableClass, importForWebCryptoEncryptionMaterial, importForWebCryptoDecryptionMaterial, KeyringWebCrypto, } from '@aws-crypto/material-management-browser';
export class AwsKmsMrkAwareSymmetricKeyringBrowser extends AwsKmsMrkAwareSymmetricKeyringClass(KeyringWebCrypto) {
    constructor({ client, keyId, grantTokens, }) {
        super({ client, keyId, grantTokens });
    }
    async _onEncrypt(material) {
        const _material = await super._onEncrypt(material);
        return importForWebCryptoEncryptionMaterial(_material);
    }
    async _onDecrypt(material, encryptedDataKeys) {
        const _material = await super._onDecrypt(material, encryptedDataKeys);
        return importForWebCryptoDecryptionMaterial(_material);
    }
}
immutableClass(AwsKmsMrkAwareSymmetricKeyringBrowser);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoia21zX21ya19rZXlyaW5nX2Jyb3dzZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMva21zX21ya19rZXlyaW5nX2Jyb3dzZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0VBQW9FO0FBQ3BFLHNDQUFzQztBQUV0QyxPQUFPLEVBQ0wsbUNBQW1DLEdBRXBDLE1BQU0seUJBQXlCLENBQUE7QUFDaEMsT0FBTyxFQUtMLGNBQWMsRUFDZCxvQ0FBb0MsRUFDcEMsb0NBQW9DLEVBQ3BDLGdCQUFnQixHQUVqQixNQUFNLHlDQUF5QyxDQUFBO0FBTWhELE1BQU0sT0FBTyxxQ0FBc0MsU0FBUSxtQ0FBbUMsQ0FHNUYsZ0JBQTZDLENBQUM7SUFLOUMsWUFBWSxFQUNWLE1BQU0sRUFDTixLQUFLLEVBQ0wsV0FBVyxHQUNrQztRQUM3QyxLQUFLLENBQUMsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLFdBQVcsRUFBRSxDQUFDLENBQUE7SUFDdkMsQ0FBQztJQUVELEtBQUssQ0FBQyxVQUFVLENBQ2QsUUFBcUM7UUFFckMsTUFBTSxTQUFTLEdBQUcsTUFBTSxLQUFLLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFBO1FBRWxELE9BQU8sb0NBQW9DLENBQUMsU0FBUyxDQUFDLENBQUE7SUFDeEQsQ0FBQztJQUVELEtBQUssQ0FBQyxVQUFVLENBQ2QsUUFBcUMsRUFDckMsaUJBQXFDO1FBRXJDLE1BQU0sU0FBUyxHQUFHLE1BQU0sS0FBSyxDQUFDLFVBQVUsQ0FBQyxRQUFRLEVBQUUsaUJBQWlCLENBQUMsQ0FBQTtRQUVyRSxPQUFPLG9DQUFvQyxDQUFDLFNBQVMsQ0FBQyxDQUFBO0lBQ3hELENBQUM7Q0FDRjtBQUNELGNBQWMsQ0FBQyxxQ0FBcUMsQ0FBQyxDQUFBIn0=